
# Nacional
```{r national}
x <- "Nacional"

cat(paste("## Gráfica de Nuevos Casos Positivos por Fecha de Ingreso \n\n"))
cat("Los casos positivos son contabilizados respecto a la fecha de ingreso.
    Los días más recientes añadirán aquellos casos sospechosos que se
    conviertan en casos positivos una vez que el resultado de la prueba 
    esté disponible. \n\n")
htmltools::tagList( ggplotly(plot.posnew[[x]], tooltip = "text",
                             dynamicTicks = TRUE) )

cat("\n\n")

cat(paste("## Gráfica de Total Casos Positivos por Fecha de Ingreso \n\n"))
  cat("Los casos positivos son contabilizados respecto a la fecha de ingreso.
      Los días más recientes añadirán aquellos casos sospechosos que se
      conviertan en casos positivos una vez que el resultado de la prueba
      esté disponible. \n\n")
htmltools::tagList( ggplotly(plot.postotal[[x]], tooltip = "text",
                             dynamicTicks = TRUE) )

cat("\n\n")

cat(paste("## Gráfica de Casos Sospechosos por Fecha de Ingreso \n\n"))
htmltools::tagList( ggplotly(plot.sospnew[[x]], tooltip = "text",
                             dynamicTicks = TRUE) )

cat("\n\n")

cat(paste("## Gráfica de Total Casos Sospechosos por Fecha de Ingreso \n\n"))
htmltools::tagList( ggplotly(plot.sosptotal[[x]], tooltip = "text",
                             dynamicTicks = TRUE) )

cat("\n\n")



```

```{r state, results = 'asis'}
grp_names_state <- grp_names[grp_names != "Nacional"]
for(x in grp_names_state){
  
  cat(paste("#", x, sep = " ", "\n\n"))
  
  cat("## Gráfica de Nuevos Casos Positivos por Fecha de Ingreso \n\n")
  cat("Los casos positivos son contabilizados respecto a la fecha de ingreso.
      Los días más recientes añadirán aquellos casos sospechosos que se
      conviertan en casos positivos una vez que el resultado de la prueba 
      esté disponible. \n\n")

  print(htmltools::tagList( ggplotly(plot.posnew[[x]], tooltip = "text",
                                     dynamicTicks = TRUE) ))
  
  cat("## Gráfica de Total Casos Positivos por Fecha de Ingreso \n\n")
    cat("Los casos positivos son contabilizados respecto a la fecha de ingreso.
      Los días más recientes añadirán aquellos casos sospechosos que se
      conviertan en casos positivos una vez que el resultado de la prueba 
      esté disponible. \n\n")
  print(htmltools::tagList( ggplotly(plot.postotal[[x]], tooltip = "text",
                                     dynamicTicks = TRUE) ))
  
  cat(paste("## Gráfica de Casos Sospechosos por Fecha de Ingreso \n\n"))
  print(htmltools::tagList( ggplotly(plot.sospnew[[x]], tooltip = "text",
                             dynamicTicks = TRUE) ))
  
  cat(paste("## Gráfica de Total Casos Sospechosos por Fecha de Ingreso \n\n"))
  print(htmltools::tagList( ggplotly(plot.sosptotal[[x]], tooltip = "text",
                             dynamicTicks = TRUE) ))
  
  
  cat(paste("## Casos por Municipio de Residencia \n \n"))
  ktbl <- tbl.municipios[[x]] %>% 
    knitr::kable(format = "html",
                  digits = 0,
                 row.names = F,
                 align = "c") %>%
    kableExtra::kable_styling(
          bootstrap_options = c("striped","condensed"),
          full_width = F) %>%
    kableExtra::scroll_box(width = "100%", height = "300px")
    
  print(ktbl)
  
  cat("\n\n")
}
```


